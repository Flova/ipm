<launch>
    <let name="tf_prefix" value=""/>
    <arg name="sim" default="false"/>

    <let if="$(env IS_ROBOT false)" name="taskset" value="taskset -c 8"/>
    <let unless="$(env IS_ROBOT false)" name="taskset" value=""/>

    <node pkg="soccer_ipm" output="screen" exec="ipm" launch-prefix="$(var taskset)">
        <param from="$(find-pkg-share soccer_ipm)/config/ipm.yaml"/>
        <param name="publish_frame" value="$(var tf_prefix)base_footprint"/>
        <param name="base_footprint_frame" value="$(var tf_prefix)base_footprint"/>
        <param name="use_sim_time" value="$(var sim)"/>
    </node>
</launch>
